<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src='socket.io-client/dist/socket.io.js'></script>
	<script src='socketio-file-upload/client.min.js'></script>
</head>
<body>
	<div id="kind">app</div>
	<script>
		if ('serviceWorker' in navigator) {
			navigator.serviceWorker.register('service-worker.js', {
				scope: './'
			}).then(function (registration) {
				console.log('[serviceWorker.registration]: ', registration)
				var serviceWorker;
				if (registration.installing) {
					serviceWorker = registration.installing;
					document.querySelector('#kind').textContent = 'installing';
				} else if (registration.waiting) {
					serviceWorker = registration.waiting;
					document.querySelector('#kind').textContent = 'waiting';
				} else if (registration.active) {
					serviceWorker = registration.active;
					document.querySelector('#kind').textContent = 'active';
				}
				if (serviceWorker) {
					// logState(serviceWorker.state);
					serviceWorker.addEventListener('statechange', function (e) {
						console.log('onStateChange: ');
					});
				}
			}).catch (function (err) {
				// Something went wrong during registration. The service-worker.js file
				// might be unavailable or contain a syntax error.
				console.log('onError: ', err)
			});
		} else {
			// The current browser doesn't support service workers.
		}
	</script>
</body>
</html>





